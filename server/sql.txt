CREATE DATABASE IF NOT EXISTS Sis;

use Sis;

CREATE TABLE IF NOT EXISTS Account (
	id INT(9) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	username VARCHAR(39) NOT NULL,
	password VARCHAR(64) NOT NULL,
	firstname VARCHAR(39) NOT NULL,
	lastname VARCHAR(39) NOT NULL,
	email VARCHAR(50),
	tel VARCHAR(20),
	avatar VARCHAR(99),
	role INT(3),
	status INT(3),
	create_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS Class (
	id INT(9) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	teacherID INT(9),
	classname VARCHAR(99),
	status INT(3),
	create_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS Enroll (
	id INT(9) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	studentID INT(9),
	classID INT(9),
	status INT(3),
	create_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS Exercises (
	id INT(9) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	classID INT(9),
	title VARCHAR(999),
	description VARCHAR(999),
	link VARCHAR(200),
	status INT(3),
	create_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS Submission (
	id INT(9) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	studentID INT(9),
	exerciseID INT(9),
	description VARCHAR(999),
	link VARCHAR(200),
	status INT(3),
	create_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS Messenger (
	id INT(9) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
	senderID INT(9),
	receiverID INT(9),
	status INT(3),
	message VARCHAR(9999),
	create_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);